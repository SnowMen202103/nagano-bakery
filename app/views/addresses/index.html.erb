<h3>配送先登録/一覧</h3>

<!--form_withメソッドを使用し、新規登録フォーム作成-->
<%= form_with model: [@customer, @address], local:true do |f| %>
  <div class="form-group">
    <%= f.label :"郵便番号(ハイフンなし)" %>
    <%= f.text_field :postal_code %>
  </div>
  <div class="form-group">
    <%= f.label :"住所" %>
    <%= f.text_field :address %>
  </div>
  <div class="form-group">
    <%= f.label :"宛名" %>
    <%= f.text_field :name %>
  </div>
  <div class="form-group">
    <%= f.submit "新規登録", class: "btn btn-success" %>
  </div>
<% end %>
<!--form_withメソッドここまで-->

<table border = "1", style = "border-collapse: collapse">
    <tr>
        <td>郵便番号</td>
        <td>住所</td>
        <td>宛名</td>
        <td></td>
    </tr>
    <!--each文使用-->
    <% @addresses.each do |address| %>
    <tr>
        <td><%= address.postal_code %></td>
        <td><%= address.address %></td>
        <td><%= address.name %></td>
        <td>
            <!--リンク先を設定-->
            <%= link_to '編集する', edit_customer_address_path(@customer, address), class: "btn btn-success" %>
            <%= link_to '削除する', customer_address_path(@customer, address), method: :delete, class: "btn btn-danger" %>
        </td>
    </tr>
    <% end %>
    <!--each文ここまで-->
</table>